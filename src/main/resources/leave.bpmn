<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" id="_l9gQ4WBfED6FcdlRiwXjrg" exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_employeeNameItem" structureRef="String"/>
  <bpmn2:itemDefinition id="_daysRequestedItem" structureRef="Integer"/>
  <bpmn2:itemDefinition id="_approvedItem" structureRef="Boolean"/>
  <bpmn2:process id="leave" drools:packageName="com.jrrd.jbpmdemo" drools:version="1.0" drools:adHoc="false" name="leave" isExecutable="true" processType="Public">
    <bpmn2:property id="employeeName" itemSubjectRef="_employeeNameItem" name="employeeName"/>
    <bpmn2:property id="daysRequested" itemSubjectRef="_daysRequestedItem" name="daysRequested"/>
    <bpmn2:property id="approved" itemSubjectRef="_approvedItem" name="approved"/>
    <bpmn2:sequenceFlow id="Flow_1leb6fz" sourceRef="startEvent" targetRef="submitLeaveRequestTask"/>
    <bpmn2:sequenceFlow id="Flow_1hns7cv" sourceRef="submitLeaveRequestTask" targetRef="approvalGateway"/>
    <bpmn2:sequenceFlow id="Flow_03h4cfe" name="Days &lt;= 5" sourceRef="approvalGateway" targetRef="autoApproveTask">
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" language="http://www.java.com/java"><![CDATA[return daysRequested <= 5;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="Flow_19m76sz" name="Days > 5" sourceRef="approvalGateway" targetRef="managerApprovalTask">
      <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression" language="http://www.java.com/java"><![CDATA[return daysRequested > 5;]]></bpmn2:conditionExpression>
    </bpmn2:sequenceFlow>
    <bpmn2:sequenceFlow id="Flow_1qm6rhh" sourceRef="autoApproveTask" targetRef="autoApproveEnd"/>
    <bpmn2:sequenceFlow id="Flow_1kl2djq" sourceRef="managerApprovalTask" targetRef="managerApproveEnd"/>
    <bpmn2:startEvent id="startEvent">
      <bpmn2:outgoing>Flow_1leb6fz</bpmn2:outgoing>
    </bpmn2:startEvent>
    <bpmn2:userTask id="submitLeaveRequestTask" name="Submit Leave Request">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Submit Leave Request]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>Flow_1leb6fz</bpmn2:incoming>
      <bpmn2:outgoing>Flow_1hns7cv</bpmn2:outgoing>
      <bpmn2:ioSpecification>
        <bpmn2:dataInput id="_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_TaskNameInputX" drools:dtype="Object" itemSubjectRef="_employeeNameItem" name="TaskName"/>
        <bpmn2:dataInput id="_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_SkippableInputX" drools:dtype="Object" name="Skippable"/>
        <bpmn2:dataOutput id="_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_employeeNameOutputX" drools:dtype="String" itemSubjectRef="_employeeNameItem" name="employeeName"/>
        <bpmn2:dataOutput id="_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_daysRequestedOutputX" drools:dtype="Integer" itemSubjectRef="_daysRequestedItem" name="daysRequested"/>
        <bpmn2:inputSet>
          <bpmn2:dataInputRefs>_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_TaskNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_SkippableInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet>
          <bpmn2:dataOutputRefs>_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_employeeNameOutputX</bpmn2:dataOutputRefs>
          <bpmn2:dataOutputRefs>_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_daysRequestedOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[SubmitLeaveRequest]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_TaskNameInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_SkippableInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[false]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_SkippableInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_employeeNameOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>employeeName</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_FD93D338-8416-4694-BC9C-97FA8DB2DFA0_daysRequestedOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>daysRequested</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:userTask>
    <bpmn2:exclusiveGateway id="approvalGateway" name="Approval Gateway" gatewayDirection="Diverging">
      <bpmn2:incoming>Flow_1hns7cv</bpmn2:incoming>
      <bpmn2:outgoing>Flow_03h4cfe</bpmn2:outgoing>
      <bpmn2:outgoing>Flow_19m76sz</bpmn2:outgoing>
    </bpmn2:exclusiveGateway>
    <bpmn2:serviceTask id="autoApproveTask" name="Auto Approve" implementation="Java" operationRef="_F01E9913-0211-4F51-89BB-EF68CD1BCC0A_ServiceOperation">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Auto Approve]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>Flow_03h4cfe</bpmn2:incoming>
      <bpmn2:outgoing>Flow_1qm6rhh</bpmn2:outgoing>
      <bpmn2:ioSpecification>
        <bpmn2:dataInput id="_F01E9913-0211-4F51-89BB-EF68CD1BCC0A_employeeNameInputX" drools:dtype="String" itemSubjectRef="_employeeNameItem" name="employeeName"/>
        <bpmn2:dataInput id="_F01E9913-0211-4F51-89BB-EF68CD1BCC0A_daysRequestedInputX" drools:dtype="Integer" itemSubjectRef="_daysRequestedItem" name="daysRequested"/>
        <bpmn2:dataOutput id="_F01E9913-0211-4F51-89BB-EF68CD1BCC0A_approvedOutputX" drools:dtype="Boolean" itemSubjectRef="_approvedItem" name="approved"/>
        <bpmn2:inputSet>
          <bpmn2:dataInputRefs>_F01E9913-0211-4F51-89BB-EF68CD1BCC0A_employeeNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_F01E9913-0211-4F51-89BB-EF68CD1BCC0A_daysRequestedInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet>
          <bpmn2:dataOutputRefs>_F01E9913-0211-4F51-89BB-EF68CD1BCC0A_approvedOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>employeeName</bpmn2:sourceRef>
        <bpmn2:targetRef>_F01E9913-0211-4F51-89BB-EF68CD1BCC0A_employeeNameInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>daysRequested</bpmn2:sourceRef>
        <bpmn2:targetRef>_F01E9913-0211-4F51-89BB-EF68CD1BCC0A_daysRequestedInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_F01E9913-0211-4F51-89BB-EF68CD1BCC0A_approvedOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>approved</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:serviceTask>
    <bpmn2:userTask id="managerApprovalTask" name="Manager Approval">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Manager Approval]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:incoming>Flow_19m76sz</bpmn2:incoming>
      <bpmn2:outgoing>Flow_1kl2djq</bpmn2:outgoing>
      <bpmn2:ioSpecification>
        <bpmn2:dataInput id="_D9837E6D-C279-4545-BC4A-5C620C09F0A2_TaskNameInputX" drools:dtype="Object" name="TaskName"/>
        <bpmn2:dataInput id="_D9837E6D-C279-4545-BC4A-5C620C09F0A2_employeeNameInputX" drools:dtype="String" itemSubjectRef="_employeeNameItem" name="employeeName"/>
        <bpmn2:dataInput id="_D9837E6D-C279-4545-BC4A-5C620C09F0A2_daysRequestedInputX" drools:dtype="Integer" itemSubjectRef="_daysRequestedItem" name="daysRequested"/>
        <bpmn2:dataInput id="_D9837E6D-C279-4545-BC4A-5C620C09F0A2_SkippableInputX" drools:dtype="Object" name="Skippable"/>
        <bpmn2:dataOutput id="_D9837E6D-C279-4545-BC4A-5C620C09F0A2_approvedOutputX" drools:dtype="Boolean" itemSubjectRef="_approvedItem" name="approved"/>
        <bpmn2:inputSet>
          <bpmn2:dataInputRefs>_D9837E6D-C279-4545-BC4A-5C620C09F0A2_TaskNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_D9837E6D-C279-4545-BC4A-5C620C09F0A2_employeeNameInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_D9837E6D-C279-4545-BC4A-5C620C09F0A2_daysRequestedInputX</bpmn2:dataInputRefs>
          <bpmn2:dataInputRefs>_D9837E6D-C279-4545-BC4A-5C620C09F0A2_SkippableInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:outputSet>
          <bpmn2:dataOutputRefs>_D9837E6D-C279-4545-BC4A-5C620C09F0A2_approvedOutputX</bpmn2:dataOutputRefs>
        </bpmn2:outputSet>
      </bpmn2:ioSpecification>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_D9837E6D-C279-4545-BC4A-5C620C09F0A2_TaskNameInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[ManagerApproval]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_D9837E6D-C279-4545-BC4A-5C620C09F0A2_TaskNameInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>employeeName</bpmn2:sourceRef>
        <bpmn2:targetRef>_D9837E6D-C279-4545-BC4A-5C620C09F0A2_employeeNameInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:sourceRef>daysRequested</bpmn2:sourceRef>
        <bpmn2:targetRef>_D9837E6D-C279-4545-BC4A-5C620C09F0A2_daysRequestedInputX</bpmn2:targetRef>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataInputAssociation>
        <bpmn2:targetRef>_D9837E6D-C279-4545-BC4A-5C620C09F0A2_SkippableInputX</bpmn2:targetRef>
        <bpmn2:assignment>
          <bpmn2:from xsi:type="bpmn2:tFormalExpression"><![CDATA[false]]></bpmn2:from>
          <bpmn2:to xsi:type="bpmn2:tFormalExpression"><![CDATA[_D9837E6D-C279-4545-BC4A-5C620C09F0A2_SkippableInputX]]></bpmn2:to>
        </bpmn2:assignment>
      </bpmn2:dataInputAssociation>
      <bpmn2:dataOutputAssociation>
        <bpmn2:sourceRef>_D9837E6D-C279-4545-BC4A-5C620C09F0A2_approvedOutputX</bpmn2:sourceRef>
        <bpmn2:targetRef>approved</bpmn2:targetRef>
      </bpmn2:dataOutputAssociation>
    </bpmn2:userTask>
    <bpmn2:endEvent id="autoApproveEnd">
      <bpmn2:incoming>Flow_1qm6rhh</bpmn2:incoming>
    </bpmn2:endEvent>
    <bpmn2:endEvent id="managerApproveEnd">
      <bpmn2:incoming>Flow_1kl2djq</bpmn2:incoming>
    </bpmn2:endEvent>
  </bpmn2:process>
  <bpmn2:interface id="_F01E9913-0211-4F51-89BB-EF68CD1BCC0A_ServiceInterface" name="com.jrrd.jbpmdemo.service.LeaveApprovalService" implementationRef="com.jrrd.jbpmdemo.service.LeaveApprovalService">
    <bpmn2:operation id="_F01E9913-0211-4F51-89BB-EF68CD1BCC0A_ServiceOperation" name="autoApprove" implementationRef="autoApprove"/>
  </bpmn2:interface>
  <bpmndi:BPMNDiagram>
    <bpmndi:BPMNPlane bpmnElement="leave">
      <bpmndi:BPMNShape id="shape_managerApproveEnd" bpmnElement="managerApproveEnd">
        <dc:Bounds height="56" width="56" x="700" y="230"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_autoApproveEnd" bpmnElement="autoApproveEnd">
        <dc:Bounds height="56" width="56" x="700" y="90"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_managerApprovalTask" bpmnElement="managerApprovalTask">
        <dc:Bounds height="80" width="100" x="550" y="230"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_autoApproveTask" bpmnElement="autoApproveTask">
        <dc:Bounds height="80" width="100" x="550" y="80"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_approvalGateway" bpmnElement="approvalGateway">
        <dc:Bounds height="56" width="56" x="415" y="160"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_submitLeaveRequestTask" bpmnElement="submitLeaveRequestTask">
        <dc:Bounds height="80" width="100" x="270" y="150"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape_startEvent" bpmnElement="startEvent">
        <dc:Bounds height="56" width="56" x="160" y="160"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_Flow_1kl2djq" bpmnElement="Flow_1kl2djq">
        <di:waypoint x="650" y="270"/>
        <di:waypoint x="700" y="270"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_Flow_1qm6rhh" bpmnElement="Flow_1qm6rhh">
        <di:waypoint x="650" y="120"/>
        <di:waypoint x="700" y="120"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_Flow_19m76sz" bpmnElement="Flow_19m76sz">
        <di:waypoint x="443" y="216"/>
        <di:waypoint x="443" y="270"/>
        <di:waypoint x="550" y="270"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="14" width="47" x="453" y="249"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_Flow_03h4cfe" bpmnElement="Flow_03h4cfe">
        <di:waypoint x="443" y="160"/>
        <di:waypoint x="443" y="120"/>
        <di:waypoint x="550" y="120"/>
        <bpmndi:BPMNLabel>
          <dc:Bounds height="14" width="50" x="453" y="102"/>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_Flow_1hns7cv" bpmnElement="Flow_1hns7cv">
        <di:waypoint x="370" y="190"/>
        <di:waypoint x="415" y="188"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge_Flow_1leb6fz" bpmnElement="Flow_1leb6fz">
        <di:waypoint x="216" y="188"/>
        <di:waypoint x="270" y="190"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn2:definitions>
